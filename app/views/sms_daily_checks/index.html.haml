- title 'SalesMakers Support Dashboard'

.row.full-width
  = form_tag sms_daily_checks_path, method: :get do
    .large-11.medium-9.small-9.columns
      = select_tag 'select_team', options_from_collection_for_select(@available_teams, 'id', 'name', @team), include_blank: 'Select a Team'
    .large-1.medium-3.small-3.columns
      = submit_tag 'View', class: [:button, 'full-width']

.widget
  .inner
    - if @team
      .table
        .tableheader
          .tablerow
            .tablecell Employee
            .tablecell In Time
            .tablecell Out Time
            .tablecell Check In
            .tablecell Check Out
            .tablecell Save
            :css
              @media only screen and (max-width: 800px) {
                .tablebody .tablecell:nth-of-type(1):before {
                  content: "Employee";
                }
                .tablebody .tablecell:nth-of-type(2):before {
                  content: "In Time";
                }
                .tablebody .tablecell:nth-of-type(3):before {
                  content: "Out Time";
                }
                .tablebody .tablecell:nth-of-type(4):before {
                  content: "Check In";
                }
                .tablebody .tablecell:nth-of-type(5):before {
                  content: "Check Out";
                }
                .tablebody .tablecell:nth-of-type(6):before {
                  content: "Save";
                }
              }
        .tablebody
          - for @employee in @people
            = form_tag update_sms_daily_check_path(@check), remote:true, method: :put, class: [:sms_check, :tablerow] do
              = hidden_field_tag :person_id, @employee.id
              = hidden_field_tag :authenticity_token, form_authenticity_token
              .tablecell
                = person_link @employee
              .tablecell
                = select_tag :in_time, options_for_select(@times.collect{ |x| x.strftime('%l:%M%P')})
              .tablecell
                = select_tag :out_time, options_for_select(@times.collect{ |x| x.strftime('%l:%M%P')})
              .tablecell
                = ("<br/><input type='checkbox' name='check_in_on_time'/> Clocked in on time?<br/> <input type='checkbox' name='check_in_uniform'/> In Uniform?<br/> <input type='checkbox' name='check_in_inside_store'/> Inside Store?").html_safe
              .tablecell
                = ("<br/><input type='checkbox' name='check_out_on_time'/> Clocked out on time?<br/> <input type='checkbox' name='check_out_inside_store'/> Inside Store?").html_safe
              .tablecell.save_area
                -#= ("<br/><input type='submit' name='commit' class='button' value='Save'/><br/> <input type='submit' name='commit' class='button' value='Employee Off'/>").html_safe
                = submit_tag 'Save', class: [:button, :save_button]
    - else
      No active employees on this team

