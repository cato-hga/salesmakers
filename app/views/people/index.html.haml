- content_for :header do
  = search_form_for @search, class: 'search_form' do |f|
    = f.text_field :eid_eq, placeholder: 'EID'
    = f.text_field :display_name_cont, placeholder: 'Name'
    = f.text_field :email_cont, placeholder: 'Email'
    = f.text_field :mobile_phone_cont, placeholder: 'Phone'
    = f.text_field :position_name_cont, placeholder: 'Position'
    = f.text_field :supervisor_display_name_cont, placeholder: 'Supervisor'
    = f.text_field :areas_name_cont, placeholder: 'Area(s)'
    = f.submit 'search'
  .top-pagination
    = paginate @people

%section
  -#%table
  -#  %thead
  -#    %tr
        = header_row ['EID','Name','Email','Phone','Position','Supervisor','Area(s)']
        -#
        -#  %th
        -#    = f.text_field :eid_eq, placeholder: 'EID'
        -#  %th
        -#    = f.text_field :display_name_cont, placeholder: 'Name'
        -#  %th
        -#    = f.text_field :email_cont, placeholder: 'Email'
        -#  %th
        -#    = f.text_field :mobile_phone_cont, placeholder: 'Phone'
        -#  %th
        -#    = f.text_field :position_name_cont, placeholder: 'Position'
        -#  %th
        -#    = f.text_field :supervisor_display_name_cont, placeholder: 'Supervisor'
        -#  %th
        -#    = f.text_field :areas_name_cont, placeholder: 'Area(s)'
        -#    = f.submit 'search'
    -#%tbody

  - header = header_row ['EID','Name','Email','Phone','Position','Supervisor','Area(s)']
  - rows = Array.new
  - for person in @people do
    - classes = person.active? ? '' : 'inactive'
    - eid = (person.eid) ? link_to(person.eid, '#', class: classes) : ''
    - display_name = link_to person.display_name, '#', class: classes
    - email = mail_to person.email, person.email, class: classes
    - if person.office_phone
      - phone = content_tag(:em, 'o:') + phone_link(person.office_phone, classes)
    - elsif person.mobile_phone
      - phone = content_tag(:em, 'm:') + phone_link(person.mobile_phone, classes)
    - elsif person.home_phone
      - phone = content_tag(:em, 'h:') + phone_link(person.home_phone, classes)
    - else
      - phone = ''
    - position = (person.position) ? link_to(person.position.name, '#', class: classes) : ''
    - supervisor = (person.supervisor) ? link_to(person.supervisor.display_name, '#', class: classes) : ''
    - area = person_area_links person, classes
    - rows << table_row([eid, display_name, email, phone, position, supervisor, area])
  = table header, rows

- content_for :footer do
  = paginate @people